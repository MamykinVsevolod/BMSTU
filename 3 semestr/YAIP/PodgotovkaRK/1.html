<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        .number {
            display: table-row;
            width: 50%;
        }
    </style>
    <title>Волкова Юлия Александровна, Мамыкин Всеволод Игоревич, ИУ6-35Б ssbbll</title>
</head>

<body>
    <form action="#" method="#" id="form">
        <div>
            <label>
                Число:
                <input type="text" pattern="^-?[0-9]\d*(\.\d+)?$" name="value">
            </label>
        </div>
        <div>
            <button type="submit">Добавить в массив</button>
        </div>
    </form>
    <button onclick="getFormValue1()"> Решить </button>
    <script>
        /*  function myfunc() {
              var a = new Array();
              a[0] = 1;
              a[1] = 2;
              a[2] = -3;
              a[3] = 4;
              a[4] = -2;
              a[5] = 1;
              var sum = 0;
              var index = 0;
              var flag = false;
              for (var i = 0; i < 6; i++) {
                  if (a[i] < 0) sum += a[i];
                  if (a[i] % 2 == 1 && !flag) {
                      index = i;
                      flag = true;
                  }
              }
              a[index] = sum;
              document.write(a);
          }*/
        var array = new Array(); var i = 0;
        function getFormValue(event) {
            event.preventDefault();
            const value = form.querySelector('[name="value"]'); //получаем поле plan
            console.log(value.value);
            array[i] = Number(value.value);
            i += 1;
            document.getElementById('form').reset();
            console.log(array);
            let table = document.createElement('table');
            document.body.append(table);
            let rowHeader = table.insertRow();
            let cell = rowHeader.insertCell();
            cell.innerText = array[i - 1];
        }

        function getFormValue1() {
            var flag = false;
            var sum = 0; var j = 0; var index = 0;
            for (j; j < i; ++j) {
                if (array[j] < 0) {
                    sum += array[j];
                }
                if (!flag && array[j] % 2 != 0) {
                    index = j;
                    flag = true;
                }
            }
            if (flag) {
                array[index] = sum;
                let table = document.createElement('table');
                document.body.append(table);
                let rowHeader = table.insertRow();
                let cell = rowHeader.insertCell();
                cell.innerText = "Ответ: ";
                for (let number in array) {
                    let cell = rowHeader.insertCell();
                    cell.innerText = array[number];
                }
            }
            else {
                let table = document.createElement('table');
                document.body.append(table);
                let rowHeader = table.insertRow();
                let cell = rowHeader.insertCell();
                cell.innerText = "Не найдены нечетные элементы или отрицательные";
            }
            array.length = 0;
            i = 0;
        }
        const form = document.getElementById('form');
        form.addEventListener('submit', getFormValue);
    </script>
    </script>
</body>

</html>